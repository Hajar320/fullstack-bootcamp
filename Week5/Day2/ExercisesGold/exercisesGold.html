<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
</head>
<style>
  body {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 5%;
    background: #f8f9fa;
    min-height: 100vh;
  }
  
  h1 {
    font-size: 3.5rem;
    font-family: 'Courier New', monospace;
    font-weight: 700;
    background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    margin-bottom: 2rem;
  }
  
  .random {
    background: white;
    padding: 1.5rem;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);
  }
</style>
<body>
  <h1>Random GIF</h1>
  <div class="random"></div>
  <script>

    //=============================
   //Exercise1
  //============================
  async function fetchdata(){
    try{
      const response =await fetch(`https://api.giphy.com/v1/gifs/random?rating=g&api_key=hpvZycW22qCjn5cRM1xtWB8NKq4dQ2My`);
            if(!response.ok){
              throw new Error("error",error.message);
            }
            const data = await response.json();
            const gifdata =await data.data;
            const display = document.querySelector(".random");
                  display.innerHTML=`
                  <img src ="${gifdata.images.original.url}" alt="${gifdata.title} style="max-width: 500px;">`;

    }
    catch(error){
      console.error("error",error);
    }
  } 


fetchdata();


    //=============================
   //Exercise2
  //============================

function exercise2(){
  console.log("exercise 2");

let resolveAfter2Seconds = function () {
    console.log("starting slow promise");
    return new Promise(resolve => {
        setTimeout(function () {
            resolve("slow");
            console.log("slow promise is done");
        }, 2000);
    });
};

let resolveAfter1Second = function () {
    console.log("starting fast promise");
    return new Promise(resolve => {
        setTimeout(function () {
            resolve("fast");
            console.log("fast promise is done");
        }, 1000);
    });
};

let sequentialStart = async function () {
    console.log('==SEQUENTIAL START==');
    const slow = await resolveAfter2Seconds();
    console.log(slow);
    const fast = await resolveAfter1Second();
    console.log(fast);
}

sequentialStart()
}

exercise2()
/*
EXECUTION ORDER & TIMING:

1. "==SEQUENTIAL START==" - logs immediately
2. "starting slow promise" - logs immediately
    WAITS 2 SECONDS for slow promise to resolve
3. "slow promise is done" - after 2 seconds
4. "slow" - value from slow promise
5. "starting fast promise" - logs immediately
    WAITS 1 SECOND for fast promise to resolve  
6. "fast promise is done" - after 1 second
7. "fast" - value from fast promise

*/

    //=============================
   //Exercise3
  //============================
function exercise3(){

  console.log("exercise 3")

let resolveAfter2Seconds = function () {
    console.log("starting slow promise");
    return new Promise(resolve => {
        setTimeout(function () {
            resolve("slow");
            console.log("slow promise is done");
        }, 2000);
    });
};

let resolveAfter1Second = function () {
    console.log("starting fast promise");
    return new Promise(resolve => {
        setTimeout(function () {
            resolve("fast");
            console.log("fast promise is done");
        }, 1000);
    });
};

let concurrentStart = async function () {
    console.log('==CONCURRENT START with await==');
    const slow = resolveAfter2Seconds();
    const fast = resolveAfter1Second();
    console.log(await slow);
    console.log(await fast);
}

setTimeout(concurrentStart, 4000)
}

setTimeout(exercise3,5000);
/*

 Starts after 4 seconds (setTimeout just delays the start for demonstration)

EXECUTION ORDER & TIMING:
1. "==CONCURRENT START with await==" - logs immediately
2. "starting slow promise" - logs immediately (starts 2-second timer)
3. "starting fast promise" - logs immediately (starts 1-second timer)
   ⏳ BOTH PROMISES RUN SIMULTANEOUSLY
4. After 1 second: "fast promise is done" (fast promise resolves)
5. After 2 seconds: "slow promise is done" (slow promise resolves)
6. "slow" - value from slow promise (logs immediately after slow resolves)
7. "fast" - value from fast promise (logs immediately after slow console.log)
*/


    //=============================
   //Exercise4
  //============================
  const urls = [
        "https://jsonplaceholder.typicode.com/users",
        "https://jsonplaceholder.typicode.com/posts",
        "https://jsonplaceholder.typicode.com/albums"
      ];

const getData = async function() {
  console.log("exercise 4");
    try {
        const [ users, posts, albums ] = await Promise.all(urls.map(async (url) => {
            const response = await fetch(url);  
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            const data = await response.json();
            return data;
        }));
        
        console.log('users', users);
        console.log('posts', posts); // Fixed typo: 'posta' → 'posts'
        console.log('albums', albums);
    
    } catch(error) {
        console.error(`oooooooooops : ${error}`)
    }
}

setTimeout(getData,12000);
  </script>
</body>
</html>